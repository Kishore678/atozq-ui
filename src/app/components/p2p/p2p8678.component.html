<div style="display:block;margin:10px;"> 
<h3>AI Settings</h3>
<p *ngIf="isValidFormSubmitted" class="success">
	Saved changes successfully.
</p>
</div>
<form [formGroup]="userForm" (ngSubmit)="onFormSubmit()">
  <input style="display: none;" type="number" formControlName="settingsId">

	<table>	
		<tr>
			<td colspan="2">
				<button style="background-color: #008CBA;color:#ffffff">Save</button>				
				<!-- <button type="button" (click)="patchUserValues()">Set Default</button>
				<button type="button" (click)="restoreUserValues()">Cancel</button> -->
				<button style="background-color: #f44336;color:#ffffff" type="button" (click)="LoadSettings()">Refresh</button>
				<button type="button" style="background-color: #008CBA;color:#ffffff" (click)="GetI2IAccStatement()">Update Account</button>	
			
			</td>
			<td>
			</td>
		</tr>
		<tr>
			<td>I2i Investment Limit</td>
			<td>
				<input style="background: #eee;" readonly type="text" formControlName="investmentLimit">
			</td>
			<td></td>
		</tr>	
		<tr style="background-color: #008CBA;color:#ffffff">
			<td>I2i Principal Holding (A)</td>
			<td>
				<input style="background: #eee;" readonly type="text" formControlName="i2IPrincipalBalance">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr style="background-color: #008CBA;color:#ffffff">
			<td>I2I Escro Balance (B)</td>
			<td>
				<input style="background: #eee;" readonly type="text" formControlName="escroBalance">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
		<tr style="background-color: #008CBA;color:#ffffff">
			<td>I2I Fund Under Proposal (C)</td>
			<td>
				<input style="background: #eee;" readonly type="text" formControlName="i2IAmtProposal">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
		<tr style="background-color: #008CBA;color:#ffffff">
			<td>I2I Fund Under Disburse (D)</td>
			<td>
				<input style="background: #eee;" readonly type="text" formControlName="i2IAmtDisburse">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
		<tr style="background-color: #008CBA;color:#ffffff">
			<td>I2I Total Account Value (A+B+C+D)</td>
			<td>
				<input style="background: #eee;" readonly type="text" formControlName="i2ICurrentAccValue">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
		<tr style="background-color: #008CBA;color:#ffffff">
			<td>I2i My Investment (Fund Cr.-Fund Deb.)</td>
			<td>
				<input style="background: #eee;" readonly type="text" formControlName="i2IMyInvestmentBalance">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
	
		<tr [ngClass]="i2IProfitLoss?'i2iProfit':'i2iLoss'">
			<td>I2i Profit (or) Loss (Acc value - My Investment)</td>
			<td>
				<input style="background: #eee;" readonly type="text" formControlName="i2IProfitOrLoss">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr [ngClass]="isI2IDiffAmount?'i2iProfit':'i2iLoss'">
			<td>I2i Diff Amount</td>
			<td>
				<input style="background: #eee;" readonly type="text" formControlName="i2IDiffAmount">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr>
			<td>I2I WithdrawAmt&nbsp;<button style="background-color: #04AA6D;color:#ffffff" (click)="RequestI2IWithdrawAmt(userForm.controls['i2IWithdrawAmt'].value)">Withdraw</button></td>
			<td>
				<input type="text" formControlName="i2IWithdrawAmt">
			</td>
			<td>
				<table>
					<tr>
						<th>ID</th>
							<th>Type</th>
								<th>Month</th>
									<th>Year</th>
										<th>Amount</th>
											<th>Status</th>
												<th>Message</th>
													<th>Manual</th>
														<th>Created</th>
															<th>Modified</th>
					</tr>
					<tr *ngFor="let w of withdras">
						<td>{{w.withdrawalsId}}</td>
							<td>{{w.wType}}</td>
								<td>{{w.month}}</td>
									<td>{{w.year}}</td>
										<td>{{w.amount}}</td>
											<td>{{w.status?'Success':'Fail'}}</td>
												<td>{{w.message}}</td>
													<td>{{w.manual?'Scheduled':'No'}}</td>
														<td>{{w.createdDate|date:'short'}}</td>
															<td>{{w.modifiedDate|date:'short'}}</td>
					</tr>
				</table>
			</td>
		</tr>
		<tr>
			<td>LC Escro Balance</td>
			<td>
				<input style="background: #eee;" readonly type="text" formControlName="lendenEscroBalance">
			</td>
			<td></td>
		</tr>		
		<tr>
			<td>LC Alerts Enabled</td>
			<td>
				<input type="checkbox" formControlName="enableLCAlerts">
			</td>
			<td></td>
		</tr>	
		
		<tr>
			<td>LC PortfolioValue</td>
			<td>
				<input type="text" readonly formControlName="lcPortfolioValue">
			</td>
			<td></td>
		</tr>
		
		
		<tr>
			<td>LC NetReturns</td>
			<td>
				<input type="text" readonly formControlName="lcNetReturns">
			</td>
			<td></td>
		</tr>
		
		<tr>
			<td>LC ROI</td>
			<td>
				<input type="text" readonly formControlName="lcroi">
			</td>
			<td></td>
		</tr>
		
		<tr>
			<td>LC TotalInvested</td>
			<td>
				<input type="text" readonly formControlName="lcTotalInvested">
			</td>
			<td></td>
		</tr>
		<tr>
			<td>LC WithdrawAmt</td>
			<td>
				<input type="text" formControlName="lcWithdrawAmt">
			</td>
			<td></td>
		</tr>
		<tr>
			<td>Balance Threshold</td>
			<td>
				<input type="text" formControlName="balanceThreshold">
			</td>
			<td></td>
		</tr>	
		<tr>
			<td>I2I GROUP Service Enabled</td>
			<td>
				<input type="checkbox" formControlName="groupLoanI2IFundingEnabled">
			</td>
			<td></td>
		</tr>	
			
		<tr>
			<td>I2I Member Service Enabled</td>
			<td>
				<input type="checkbox" formControlName="memberLoanI2IFundingEnabled">
			</td>
			<td></td>
		</tr>	
		
		<tr>
			<td>LC Member Service Enabled</td>
			<td>
				<input type="checkbox" formControlName="memberLoanLendenClubEnabled">
			</td>
			<td></td>
		</tr>	
		
		<tr>
			<td>I2I Withdraw Service Enabled</td>
			<td>
				<input type="checkbox" formControlName="withdrawaI2IFundingEnabled">
			</td>
			<td></td>
		</tr>		

		<tr>
			<td>LC Withdraw Service Enabled</td>
			<td>
				<input type="checkbox" formControlName="withdrawaLendenClubEnabled">
			</td>
			<td></td>
		</tr>	
		<tr>
			<td>Group Amount Limit Per Borrower</td>
			<td>
				<input type="text" formControlName="amountPerBorrowerGroup">
			</td>
			<td></td>
		</tr>	
		<tr>
			<td>GROUP Cibil Good</td>
			<td>
				<input type="text" formControlName="gCibilGood">
			</td>
			<td></td>
		</tr>
		<tr>
			<td>Auto INDIV Enabled</td>
			<td>
				<input type="checkbox" formControlName="isEnabled">
			</td>
			<td></td>
		</tr>
    <tr>
			<td>Limit Investment's:</td>
			<td>
				<input formControlName="limitPerDay" type="number">
			</td>
			<td></td>
		</tr>	
		<tr>
			<td>TPIN:</td>
			<td>
				<input formControlName="tPin" type="text">
			</td>
			<td></td>
		</tr>	
    <tr style="background: green;color: white;">
			<td>Invest Amount Default:</td>
			<td>
				<input formControlName="investAmt" type="number">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
    <tr style="background: green;color: white;">
			<td>Invest Amount Minimum:</td>
			<td>
				<input formControlName="minInvestAmt" type="number">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	

		<tr style="background: #31cd31;color: white;font-weight: 500;">
			<td>Invest Amount - A:</td>
			<td>
				<input formControlName="investAmtA" type="number">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
		<tr style="background: #31cd31;color: white;font-weight: 500;">
			<td>Invest Amount - X:</td>
			<td>
				<input formControlName="investAmtX" type="number">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr style="background: #31cd31;color: white;font-weight: 500;">
			<td>Invest Amount - B:</td>
			<td>
				<input formControlName="investAmtB" type="number">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr style="background: #31cd31;color: white;font-weight: 500;">
			<td>Invest Amount - C:</td>
			<td>
				<input formControlName="investAmtC" type="number">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr style="background: #31cd31;color: white;font-weight: 500;">
			<td>Invest Amount - D:</td>
			<td>
				<input formControlName="investAmtD" type="number">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr style="background: #31cd31;color: white;font-weight: 500;">
			<td>Invest Amount - E:</td>
			<td>
				<input formControlName="investAmtE" type="number">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>

		<tr  style="background: red;color: white;font-weight: 500;">
			<td>CIBIL POOR:</td>
			<td>
				<input formControlName="cibilPoor" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
		<tr style="background: orange;color: white;font-weight: 500;">
			<td>CIBIL AVERAGE:</td>
			<td>
				<input formControlName="cibilAverage" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
		<tr style="background: #31cd31;color: white;font-weight: 500;">
			<td>CIBIL GOOD:</td>
			<td>
				<input formControlName="cibilGood" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
		<tr style="background: #31cd31;color: white;font-weight: 500;">
			<td>CIBIL BEST:</td>
			<td>
				<input formControlName="cibilBest" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
	
		<tr style="background:green;color: white;font-weight: 500;">
			<td>CIBIL Excellent:</td>
			<td>
				<input formControlName="cibilExcellent" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr style="background: blue;color:white">
			<td>SMTP From User:</td>
			<td>
				<input formControlName="smtpFromUser" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr style="background: blue;color:white">
			<td>SMTP From Email:</td>
			<td>
				<input formControlName="smtpFromEmailAddress" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr style="background: blue;color:white">
			<td>SMTP Host:</td>
			<td>
				<input formControlName="smtpHost" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr style="background: blue;color:white">
			<td>SMTP Port:</td>
			<td>
				<input formControlName="smtpPort" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>
		<tr style="background: blue;color:white">
			<td>SMTP UserName:</td>
			<td>
				<input formControlName="smtpUserName" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
		<tr style="background: blue;color:white">
			<td>SMTP Password:</td>
			<td>
				<input formControlName="smtpPassword" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
		<tr style="background: yellow;">
			<td>Created On:</td>
			<td>
				<input style="background: #eee;" readonly formControlName="createdOn" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
    <tr style="background: yellow;">
			<td>Modified On:</td>
			<td>
				<input style="background: #eee;" readonly formControlName="modifiedDate" type="text">
			</td>
			<td style="background-color: #ffffff;color:#000000"></td>
		</tr>	
	
	</table>
</form> 

<div style="display:block;margin:10px;"> 
<h3><span class="page-header">Active Borrowers</span></h3>
<button  style="background-color: #f44336;color:#ffffff"  type="button" (click)="LoadBorrowers()">Refresh</button>
<br><br>
<label class="chkcontainer"><span class="lable-text">Elig.</span>
	<input type="checkbox" name="eligibleOnly" [(ngModel)]="isEligibleOnly" type="checkbox" (change)="ApplyFilter('Elig')">
	<span class="checkmark"></span>
  </label>
  <label class="chkcontainer"><span class="lable-text">I2I</span>
	<input type="checkbox" name="i2iOnly" [(ngModel)]="isI2iOnly" type="checkbox" (change)="ApplyFilter('I2I')">
	<span class="checkmark"></span>
  </label>
  <label class="chkcontainer"><span class="lable-text">LC</span>
	<input type="checkbox" name="lcOnly" [(ngModel)]="isLCOnly" type="checkbox" (change)="ApplyFilter('LC')">
	<span class="checkmark"></span>
  </label>
  <label class="chkcontainer"><span class="lable-text">Funded</span>
	<input type="checkbox" name="fundedOnly" [(ngModel)]="isFundedOnly" type="checkbox" (change)="ApplyFilter('FUNDED')">
	<span class="checkmark"></span>
  </label>
  <label class="chkcontainer"><span class="lable-text">Not Funded</span>
	<input type="checkbox" name="notFundedOnly" [(ngModel)]="isNotFundedOnly" type="checkbox" (change)="ApplyFilter('NOTFUNDED')">
	<span class="checkmark"></span>
  </label>
</div>
  <section class="container">
<table id="watchlist">
  <tr>   
	<th style="width:50px;">Date</th>
    <th style="width:25px;">ID</th>
    <th style="width:25px;">Loan</th>
    <th style="width:25px;">Loan Amt</th>
    <th style="width:25px;">Risk</th>
    <th style="width:25px;">Age</th>
    <th style="width:25px;">Cibil</th>
    <th style="width:25px;">Int%.</th>
    <th style="width:30px;">Tenure</th>
    <th style="width:10px;">Elig.</th>   
    <th style="width:50px;">Invest Amt</th>   
    <th style="width:95px;">Status</th>   
    <th style="width:20px;"></th>
  </tr>
  <tr *ngFor="let w of borrowers;let i=index;">  
   <td>{{w.createdDate|date:'short'}}</td>
   <td>{{w.keyId}}</td>
   <td>{{w.loan}}</td>
   <td>{{w.loanAmt}}</td>
   <td>{{w.risk}}</td>
   <td>{{w.age}}</td>
   <td>{{w.cibil}}</td>
   <td>{{w.interest}}</td>   
   <td>{{w.tenure}} {{w.tenureType=='d'?'D':'M'}}</td>   
   <td [ngClass]="w.isEligible?'profit':'loss'">{{w.isEligible?'Yes':'No'}}</td>
   <td>{{w.investAmt}}</td>
   <td [ngClass]="w.status==2?'profit':''">{{w.statusMsg}}</td>
   <td style="text-align:center"><button type="button" style="background: green;color: white;" (click)="ForceInvest(w)">Force Invest</button></td>
  </tr>
</table>
</section>
