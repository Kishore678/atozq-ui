<mat-tab-group>
<mat-tab>
<ng-template mat-tab-label>
  <mat-icon svgIcon="star" class="example-tab-icon">star</mat-icon>
  Most Active
</ng-template>
<div class="bg-layer">
  <div class="filter">
  <div style="float:left;display:block;margin: 7px 0px 7px 5px;">
    <label class="filename"><b>BSE EQ:&nbsp;</b></label>
  </div>
  <div style="float:left;display:block;margin: 5px 0 5px 0;">
    <mat-select [(value)]="selected" (selectionChange)="SelectionChanged()">    
      <mat-option *ngFor="let b of dsArray" value="{{b.key}}">{{b.text}}</mat-option>   
    </mat-select> 
  </div>
  <div style="float:left;display:block;margin:7px 0px 7px 5px;font-weight: 500;color: #0000ff;">
      <label class="filename"><b>&nbsp;Date:&nbsp;</b></label>{{fileName}}
  </div>
  </div>
  <div style="clear:both;"></div>
  <section class="table-container mat-elevation-z8" tabindex="0">
    <table id="main" mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8" multiTemplateDataRows>
      <ng-container matColumnDef="Flg">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Flag Indicator">
         #
        </th>
        <!-- <td mat-cell *matCellDef="let element"> <mat-icon [ngClass]="flagStyle(element)" [matTooltip]="flagContent(element) | tooltipList" 
          matTooltipClass="tooltip-list" #tooltip="matTooltip" (click)="tooltip.show()"   [matTooltipPosition]="'after'">flag</mat-icon></td> -->
          <td mat-cell *matCellDef="let element"> 
            <mat-icon *ngIf="element.error" class="error icon">error</mat-icon>
            <mat-icon [ngClass]="expandcollapse">{{expandedElement === element ? 'expand_less' : 'expand_more'}}</mat-icon>
            
            <!-- <mat-icon svgIcon="stockmarket" [ngClass]="flagStyle(element)" 
            ></mat-icon> -->
          
          </td>
      </ng-container>
      <ng-container matColumnDef="Code">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Code">
         Code
        </th>
        <td mat-cell *matCellDef="let element"> {{element.Code}} </td>
      </ng-container>
      <ng-container matColumnDef="Nme">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Nme">
          Stock
        </th>
        <td mat-cell *matCellDef="let element"><a> {{element.Nme}}</a></td>
      </ng-container>
      <ng-container matColumnDef="Actions">
        <th mat-header-cell *matHeaderCellDef>
          Actions
        </th>
        <td mat-cell *matCellDef="let element">
  
          <span style="display:inline-block;">
            <mat-icon (click)="AddOrRemoveWatch(element)" [ngClass]="element.IsWatch?'watch':'watch-default'">favorite</mat-icon>
            &nbsp;<mat-icon (click)="share(element)" svgIcon="whatsapp"></mat-icon>
            <!-- &nbsp;<mat-icon (click)="OpenChat(element)" svgIcon="community"></mat-icon>
            &nbsp;(<span>{{element.ChatCnt | number:'2.' }}</span>) -->
          </span>
        
        </td>
      </ng-container>
      <ng-container matColumnDef="Grp">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Grp">
          Group
        </th>
        <td mat-cell *matCellDef="let element"> {{element.Grp}} </td>
      </ng-container>
      <ng-container matColumnDef="LTP">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by LTP">
          LTP
        </th>
        <td mat-cell *matCellDef="let element"> {{element.LTP | number:'.2'}} </td>
      </ng-container>
      <ng-container matColumnDef="Vol">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vol">
              Volume
            </th>
            <td mat-cell *matCellDef="let element"> {{element.Vol | number:'2.'}} </td>
       </ng-container>
        <ng-container matColumnDef="Cnt">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Cnt">
              Trades
            </th>
            <td mat-cell *matCellDef="let element"> {{element.Cnt | number:'2.'}} </td>
        </ng-container>
        <ng-container matColumnDef="Opn">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Opn">
              Open
            </th>
            <td mat-cell *matCellDef="let element"> {{element.Opn | number:'.2'}} </td>
        </ng-container>
        <ng-container matColumnDef="Hig">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Hig">
              High
            </th>
            <td mat-cell *matCellDef="let element"> {{element.Hig | number:'.2'}} </td>
        </ng-container>
        <ng-container matColumnDef="Low">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Low">
              Low
            </th>
            <td mat-cell *matCellDef="let element"> {{element.Low | number:'.2'}} </td>
        </ng-container>
        <ng-container matColumnDef="Avg">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Avg">
              Avg
            </th>
            <td mat-cell *matCellDef="let element"> {{element.Avg | number:'.2'}} </td>
        </ng-container>
        <ng-container matColumnDef="Prv">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Prv">
              Prev
            </th>
            <td mat-cell *matCellDef="let element"> {{element.Prv | number:'.2'}} </td>
        </ng-container>
        <ng-container matColumnDef="Wrn">        
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Wrn">
              Wrn
            </th>
            <td mat-cell *matCellDef="let element" (click)="AddWrn(element)">
              <mat-icon style="color:orange;float:left;vertical-align:middle;">edit</mat-icon>
              <span class="clear"></span>
            </td>       
        </ng-container>
        <ng-container matColumnDef="Fund">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Fund">
              Fund
            </th>
            <td mat-cell *matCellDef="let element"> {{element.Fund}} </td>
        </ng-container>

        <ng-container matColumnDef="expandedDetail">
          <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">
            <div class="example-element-detail"
                 [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
             
                 <div class="fundamentals"> 
                  <h4><span class="page-header"><mat-icon svgIcon="stockmarket"></mat-icon>&nbsp;&nbsp;{{element.Nme}}&nbsp;-&nbsp;FUNDAMENTALS</span></h4>              
                  <table class="basic-info">
                      <caption>Overview</caption>                               
                      <tr>
                          <td>Group:</td>
                          <td>{{element.Grp}}</td>
                      </tr>
                      <tr>
                          <td>Script Code:</td>
                          <td>{{element.Code}}</td>
                      </tr> 
                      <tr>
                          <td>Script ID:</td>
                          <td>{{element.Nme}}</td>
                      </tr>                       
                      <tr>
                        <td>Volume:</td>
                        <td>{{element.Vol | number:'2.'}}</td>
                    </tr>                  
                    <tr>
                      <tr>
                        <td>Trades:</td>
                        <td>{{element.Cnt | number:'2.'}}</td>
                    </tr>                  
                    <tr>
                      <td>Open:</td>
                      <td>{{element.Hig | number:'.2'}}</td>
                  </tr>
                   <tr>
                    <td>High:</td>
                    <td>{{element.Hig | number:'.2'}}</td>
                </tr>
                    <tr>
                        <td>Low:</td>
                        <td>{{element.Low | number:'.2'}}</td>
                    </tr> 
                    <tr>
                        <td>Average:</td>
                        <td>{{element.Avg | number:'.2'}}</td>
                    </tr>  
                    <tr>
                      <td>Last Traded:</td>
                      <td>{{element.LTP | number:'.2'}}</td>
                  </tr>  
                  </table>
               
              
              </div>

            </div>
          </td>
        </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky:true"></tr>

      <tr (click)="expandedElement = expandedElement === row ? null : row" mat-row *matRowDef="let row; columns: displayedColumns;"  class="example-element-row"
      [class.example-expanded-row]="expandedElement === row"></tr> 

      <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr> 
    </table>
    <mat-paginator #paginator showFirstLastButtons hidePageSize></mat-paginator>
  </section>
  
  </div>
</mat-tab>

<!-- <mat-tab>
<ng-template mat-tab-label>
  <mat-icon svgIcon="date" class="example-tab-icon"></mat-icon>
  Week Active
</ng-template>
<div class="bg-layer notification">
Coming soon... Please do support and share.<mat-icon style="cursor: pointer;vertical-align:super;" (click)="whatsAppShare('Secure Link: https://atozq.com')" svgIcon="whatsapp"></mat-icon> <br>Tag your email under   <a style="color:#218b99;font-weight:500;" mat-list-item routerLink="/account/anonymous">      
  <mat-icon style="vertical-align:bottom;" fontIcon="account_circle"></mat-icon><span class="menutext">My Account</span>      
 </a> We will notify when new feature available.
</div>
</mat-tab>

<mat-tab>
<ng-template mat-tab-label>
  <mat-icon svgIcon="stockmarket" class="example-tab-icon"></mat-icon>
   Circuit Breakout
</ng-template>
<div class="bg-layer notification">
  Coming soon... Please do support and share.<mat-icon style="cursor: pointer;vertical-align:super;" (click)="whatsAppShare('Secure Link: https://atozq.com')" svgIcon="whatsapp"></mat-icon> <br>Tag your email under   <a style="color:#218b99;font-weight:500;" mat-list-item routerLink="/account/anonymous">      
    <mat-icon style="vertical-align:bottom;" fontIcon="account_circle"></mat-icon><span class="menutext">My Account</span>      
   </a> We will notify when new feature available.
</div>
</mat-tab> -->

<mat-tab>
  <ng-template mat-tab-label>
    <mat-icon svgIcon="elearning" class="example-tab-icon"></mat-icon>
     Learning
  </ng-template>
  <div class="bg-layer notification">
    Coming soon... Please do support and share.<mat-icon style="cursor: pointer;vertical-align:super;" (click)="whatsAppShare('Secure Link: https://atozq.com')" svgIcon="whatsapp"></mat-icon> <br>Tag your email under   <a style="color:#218b99;font-weight:500;" mat-list-item routerLink="/account/anonymous">      
      <mat-icon style="vertical-align:bottom;" fontIcon="account_circle"></mat-icon><span class="menutext">My Account</span>      
     </a> We will notify when new feature available.
  </div>
  </mat-tab>
</mat-tab-group>


<!-- 
<mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
  <mat-tab label="Today Most Active">
    <mat-icon>book</mat-icon>

  </mat-tab>
  <mat-tab label="Week Active">Content 2</mat-tab>
  <mat-tab label="Circuit Breakout">Content 3</mat-tab>
</mat-tab-group> -->
















